@model ProjectCardViewModel

<div class="project-card">
  <div class="project-header">
    <div class="project-image">
      <img src="@Model.ProjectImage" alt="Project image" />
    </div>
    <div class="project-info">
      <h3>@Model.ProjectName</h3>
      <p>@Model.ClientName</p>
      <div class="project-status @Model.Status.ToString()?.ToLower()">
        @Model.Status.ToString()?.Replace("Not", "Not ")
      </div>
    </div>
    <div class="dropdown-wrapper window" id="project-dropdown-@Model.Id">
      @{
        var projectDropdownModel = new ProjectDropdownViewModel
        {
          Id = Model.Id
        };
      }
      <partial name="Partials/Components/Dropdowns/_ProjectDropdown" model="@projectDropdownModel" />
    </div>
  </div>
  <div class="project-description">
    <p>@Model.Description</p>
  </div>
  <div class="project-footer">
    <partial name="Partials/Components/ProjectCard/_ProjectDeadline" model="@Model" />
    <div class="team-members">
      @{
        var displayMembers = Model.Members.Take(4).ToList();
        var remainingCount = Model.Members.Count - 4;
      }
      @foreach (var member in displayMembers)
      {
        <div class="avatar">
          <img src="@(member.Avatar ?? "/images/avatars/default-avatar.svg")"
            alt="@($"{member.FirstName} {member.LastName}")" />
        </div>
      }
      @if (remainingCount > 0)
      {
        <div class="avatar more-members">
          <span>+@remainingCount</span>
        </div>
      }
    </div>
  </div>
</div>
